
> textor@1.0.0 test
> vitest
 DEV  v1.6.1 D:/Git/textor
stdout | test/security.test.js > Security > should not allow creating sections outside of pages directory
✓ Textor configuration created at: D:\Git\textor\temp-security-test\.textor\config.json
Default configuration:
{
  "paths": {
    "pages": "src/pages",
    "features": "src/features",
    "components": "src/components",
    "layouts": "src/layouts"
  },
  "importAliases": {},
  "naming": {
    "routeExtension": ".astro",
    "featureExtension": ".astro",
    "componentExtension": ".astro",
    "hookExtension": ".ts",
    "testExtension": ".test.tsx"
  },
  "signatures": {
    "astro": "<!-- @generated by Textor -->",
    "typescript": "// @generated by Textor",
    "javascript": "// @generated by Textor"
  },
  "features": {
    "createSubComponentsDir": true,
    "createScriptsDir": true,
    "scriptsIndexFile": "scripts/index.ts"
  },
  "components": {
    "createSubComponentsDir": true,
    "createContext": true,
    "createHook": true,
    "createTests": true,
    "createConfig": true,
    "createConstants": true,
    "createTypes": true
  }
}
You can now use Textor commands like:
  textor add-section /users users/catalog --layout Main
stdout | test/security.test.js > Security > should handle special replacement patterns in templates safely
✓ Textor configuration created at: D:\Git\textor\temp-security-test\.textor\config.json
Default configuration:
{
  "paths": {
    "pages": "src/pages",
    "features": "src/features",
    "components": "src/components",
    "layouts": "src/layouts"
  },
  "importAliases": {},
  "naming": {
    "routeExtension": ".astro",
    "featureExtension": ".astro",
    "componentExtension": ".astro",
    "hookExtension": ".ts",
    "testExtension": ".test.tsx"
  },
  "signatures": {
    "astro": "<!-- @generated by Textor -->",
    "typescript": "// @generated by Textor",
    "javascript": "// @generated by Textor"
  },
  "features": {
    "createSubComponentsDir": true,
    "createScriptsDir": true,
    "scriptsIndexFile": "scripts/index.ts"
  },
  "components": {
    "createSubComponentsDir": true,
    "createContext": true,
    "createHook": true,
    "createTests": true,
    "createConfig": true,
    "createConstants": true,
    "createTypes": true
  }
}
You can now use Textor commands like:
  textor add-section /users users/catalog --layout Main
stdout | test/security.test.js > Security > should handle special replacement patterns in templates safely
✓ Section created successfully:
  Route: D:\Git\textor\temp-security-test\src\pages\special.astro
  Feature: D:\Git\textor\temp-security-test\src\features\special_$&\Special$&.astro
  Sub-components: D:\Git\textor\temp-security-test\src\features\special_$&\sub-components/
  Scripts: D:\Git\textor\temp-security-test\src\features\special_$&\scripts\index.ts
stdout | test/alias.test.js > Alias functionality > add-section uses custom layout and feature aliases
✓ Section created successfully:
  Route: D:\Git\textor\temp-test-project\src\pages\test.astro
  Feature: D:\Git\textor\temp-test-project\src\features\test-feature\TestFeature.astro
stdout | test/state.test.js > State Management > should save section to state and allow removal by route only
✓ Textor configuration created at: D:\Git\textor\temp-state-test\.textor\config.json
Default configuration:
{
  "paths": {
    "pages": "src/pages",
    "features": "src/features",
    "components": "src/components",
    "layouts": "src/layouts"
  },
  "importAliases": {},
  "naming": {
    "routeExtension": ".astro",
    "featureExtension": ".astro",
    "componentExtension": ".astro",
    "hookExtension": ".ts",
    "testExtension": ".test.tsx"
  },
  "signatures": {
    "astro": "<!-- @generated by Textor -->",
    "typescript": "// @generated by Textor",
    "javascript": "// @generated by Textor"
  },
  "features": {
    "createSubComponentsDir": true,
    "createScriptsDir": true,
    "scriptsIndexFile": "scripts/index.ts"
  },
  "components": {
    "createSubComponentsDir": true,
    "createContext": true,
    "createHook": true,
    "createTests": true,
    "createConfig": true,
    "createConstants": true,
    "createTypes": true
  }
}
You can now use Textor commands like:
  textor add-section /users users/catalog --layout Main
stdout | test/state.test.js > State Management > should save section to state and allow removal by route only
✓ Section created successfully:
  Route: D:\Git\textor\temp-state-test\src\pages\users.astro
  Feature: D:\Git\textor\temp-state-test\src\features\users\catalog\UsersCatalog.astro
  Sub-components: D:\Git\textor\temp-state-test\src\features\users\catalog\sub-components/
  Scripts: D:\Git\textor\temp-state-test\src\features\users\catalog\scripts\index.ts
stdout | test/alias.test.js > Alias functionality > add-section uses relative paths when aliases are missing
✓ Section created successfully:
  Route: D:\Git\textor\temp-test-project\src\pages\test.astro
  Feature: D:\Git\textor\temp-test-project\src\features\test-feature\TestFeature.astro
stdout | test/feature-improvements.test.js > Feature Improvements > toPascalCase should respect camelCase in arguments
✓ Component created successfully:
  D:\Git\textor\temp-feature-test\src\components\MyComponent\MyComponent.astro
  D:\Git\textor\temp-feature-test\src\components\MyComponent\index.ts
  D:\Git\textor\temp-feature-test\src\components\MyComponent\types\index.ts
  D:\Git\textor\temp-feature-test\src\components\MyComponent\context\MyComponentContext.tsx
  D:\Git\textor\temp-feature-test\src\components\MyComponent\hooks\useMyComponent.ts
  D:\Git\textor\temp-feature-test\src\components\MyComponent\__tests__\MyComponent.test.tsx
  D:\Git\textor\temp-feature-test\src\components\MyComponent\config\index.ts
  D:\Git\textor\temp-feature-test\src\components\MyComponent\constants\index.ts
stdout | test/alias.test.js > Alias functionality > add-section uses relative paths when aliases are missing
✓ Section created successfully:
  Route: D:\Git\textor\temp-test-project\src\pages\blog\my-post.astro
  Feature: D:\Git\textor\temp-test-project\src\features\blog\post-feature\BlogPostFeature.astro
stdout | test/state.test.js > State Management > should save section to state and allow removal by route only
✓ Deleted:
  D:\Git\textor\temp-state-test\src\pages\users.astro
  D:\Git\textor\temp-state-test\src\features\users\catalog/
stdout | test/state.test.js > State Management > should save component to state and allow removal by name
✓ Textor configuration created at: D:\Git\textor\temp-state-test\.textor\config.json
Default configuration:
{
  "paths": {
    "pages": "src/pages",
    "features": "src/features",
    "components": "src/components",
    "layouts": "src/layouts"
  },
  "importAliases": {},
  "naming": {
    "routeExtension": ".astro",
    "featureExtension": ".astro",
    "componentExtension": ".astro",
    "hookExtension": ".ts",
    "testExtension": ".test.tsx"
  },
  "signatures": {
    "astro": "<!-- @generated by Textor -->",
    "typescript": "// @generated by Textor",
    "javascript": "// @generated by Textor"
  },
  "features": {
    "createSubComponentsDir": true,
    "createScriptsDir": true,
    "scriptsIndexFile": "scripts/index.ts"
  },
  "components": {
    "createSubComponentsDir": true,
    "createContext": true,
    "createHook": true,
    "createTests": true,
    "createConfig": true,
    "createConstants": true,
    "createTypes": true
  }
}
You can now use Textor commands like:
  textor add-section /users users/catalog --layout Main
stdout | test/alias.test.js > Alias functionality > move-section updates relative paths correctly
✓ Section created successfully:
  Route: D:\Git\textor\temp-test-project\src\pages\old-route.astro
  Feature: D:\Git\textor\temp-test-project\src\features\old-feature\OldFeature.astro
stdout | test/feature-improvements.test.js > Feature Improvements > add-section should respect camelCase in feature path
✓ Section created successfully:
  Route: D:\Git\textor\temp-feature-test\src\pages\test.astro
  Feature: D:\Git\textor\temp-feature-test\src\features\myFeature\mySubFeature\MyFeatureMySubFeature.astro
  Sub-components: D:\Git\textor\temp-feature-test\src\features\myFeature\mySubFeature\sub-components/
  Scripts: D:\Git\textor\temp-feature-test\src\features\myFeature\mySubFeature\scripts\index.ts
stdout | test/state.test.js > State Management > should save component to state and allow removal by name
✓ Component created successfully:
  D:\Git\textor\temp-state-test\src\components\Button\Button.astro
  D:\Git\textor\temp-state-test\src\components\Button\index.ts
  D:\Git\textor\temp-state-test\src\components\Button\types\index.ts
  D:\Git\textor\temp-state-test\src\components\Button\context\ButtonContext.tsx
  D:\Git\textor\temp-state-test\src\components\Button\hooks\useButton.ts
  D:\Git\textor\temp-state-test\src\components\Button\__tests__\Button.test.tsx
  D:\Git\textor\temp-state-test\src\components\Button\config\index.ts
  D:\Git\textor\temp-state-test\src\components\Button\constants\index.ts
  Sub-components: D:\Git\textor\temp-state-test\src\components\Button\sub-components/
stdout | test/feature-improvements.test.js > Feature Improvements > add-section should inject script index inside the component
✓ Section created successfully:
  Route: D:\Git\textor\temp-feature-test\src\pages\test.astro
  Feature: D:\Git\textor\temp-feature-test\src\features\test-feature\TestFeature.astro
  Sub-components: D:\Git\textor\temp-feature-test\src\features\test-feature\sub-components/
  Scripts: D:\Git\textor\temp-feature-test\src\features\test-feature\scripts\index.ts
stdout | test/alias.test.js > Alias functionality > move-section updates relative paths correctly
✓ Moved:
  D:\Git\textor\temp-test-project\src\pages\old-route.astro
  -> D:\Git\textor\temp-test-project\src\pages\deep\new-route.astro
  D:\Git\textor\temp-test-project\src\features\old-feature
  -> D:\Git\textor\temp-test-project\src\features\new\feature
stdout | test/state.test.js > State Management > should save component to state and allow removal by name
✓ Deleted component: D:\Git\textor\temp-state-test\src\components\Button/
stdout | test/state.test.js > State Management > should allow moving section using state lookup
✓ Textor configuration created at: D:\Git\textor\temp-state-test\.textor\config.json
Default configuration:
{
  "paths": {
    "pages": "src/pages",
    "features": "src/features",
    "components": "src/components",
    "layouts": "src/layouts"
  },
  "importAliases": {},
  "naming": {
    "routeExtension": ".astro",
    "featureExtension": ".astro",
    "componentExtension": ".astro",
    "hookExtension": ".ts",
    "testExtension": ".test.tsx"
  },
  "signatures": {
    "astro": "<!-- @generated by Textor -->",
    "typescript": "// @generated by Textor",
    "javascript": "// @generated by Textor"
  },
  "features": {
    "createSubComponentsDir": true,
    "createScriptsDir": true,
    "scriptsIndexFile": "scripts/index.ts"
  },
  "components": {
    "createSubComponentsDir": true,
    "createContext": true,
    "createHook": true,
    "createTests": true,
    "createConfig": true,
    "createConstants": true,
    "createTypes": true
  }
}
You can now use Textor commands like:
  textor add-section /users users/catalog --layout Main
stdout | test/alias.test.js > Alias functionality > move-section updates relative paths when keeping feature
✓ Section created successfully:
  Route: D:\Git\textor\temp-test-project\src\pages\old-route.astro
  Feature: D:\Git\textor\temp-test-project\src\features\my-feature\MyFeature.astro
stdout | test/state.test.js > State Management > should allow moving section using state lookup
✓ Section created successfully:
  Route: D:\Git\textor\temp-state-test\src\pages\old.astro
  Feature: D:\Git\textor\temp-state-test\src\features\old\feature\OldFeature.astro
  Sub-components: D:\Git\textor\temp-state-test\src\features\old\feature\sub-components/
  Scripts: D:\Git\textor\temp-state-test\src\features\old\feature\scripts\index.ts
stdout | test/feature-improvements.test.js > Feature Improvements > remove-section should recursively delete feature directory with subdirectories
✓ Section created successfully:
  Route: D:\Git\textor\temp-feature-test\src\pages\test.astro
  Feature: D:\Git\textor\temp-feature-test\src\features\test-feature\TestFeature.astro
  Sub-components: D:\Git\textor\temp-feature-test\src\features\test-feature\sub-components/
  Scripts: D:\Git\textor\temp-feature-test\src\features\test-feature\scripts\index.ts
stdout | test/alias.test.js > Alias functionality > move-section updates relative paths when keeping feature
✓ Moved:
  D:\Git\textor\temp-test-project\src\pages\old-route.astro
  -> D:\Git\textor\temp-test-project\src\pages\a\b\c\new-route.astro
stdout | test/feature-improvements.test.js > Feature Improvements > remove-section should recursively delete feature directory with subdirectories
✓ Deleted:
  D:\Git\textor\temp-feature-test\src\pages\test.astro
  D:\Git\textor\temp-feature-test\src\features\test-feature/
stdout | test/state.test.js > State Management > should allow moving section using state lookup
✓ Moved:
  D:\Git\textor\temp-state-test\src\pages\old.astro
  -> D:\Git\textor\temp-state-test\src\pages\new.astro
  D:\Git\textor\temp-state-test\src\features\old\feature
  -> D:\Git\textor\temp-state-test\src\features\new\feature
stdout | test/alias.test.js > Alias functionality > create-component uses type instead of interface
✓ Component created successfully:
  D:\Git\textor\temp-test-project\src\components\MyComponent\MyComponent.astro
  D:\Git\textor\temp-test-project\src\components\MyComponent\index.ts
  D:\Git\textor\temp-test-project\src\components\MyComponent\context\MyComponentContext.tsx
stdout | test/state.test.js > State Management > should support custom names for sections
✓ Textor configuration created at: D:\Git\textor\temp-state-test\.textor\config.json
Default configuration:
{
  "paths": {
    "pages": "src/pages",
    "features": "src/features",
    "components": "src/components",
    "layouts": "src/layouts"
  },
  "importAliases": {},
  "naming": {
    "routeExtension": ".astro",
    "featureExtension": ".astro",
    "componentExtension": ".astro",
    "hookExtension": ".ts",
    "testExtension": ".test.tsx"
  },
  "signatures": {
    "astro": "<!-- @generated by Textor -->",
    "typescript": "// @generated by Textor",
    "javascript": "// @generated by Textor"
  },
  "features": {
    "createSubComponentsDir": true,
    "createScriptsDir": true,
    "scriptsIndexFile": "scripts/index.ts"
  },
  "components": {
    "createSubComponentsDir": true,
    "createContext": true,
    "createHook": true,
    "createTests": true,
    "createConfig": true,
    "createConstants": true,
    "createTypes": true
  }
}
You can now use Textor commands like:
  textor add-section /users users/catalog --layout Main
stdout | test/feature-improvements.test.js > Feature Improvements > create-component should create sub-components subfolder and remove-component should delete it
✓ Component created successfully:
  D:\Git\textor\temp-feature-test\src\components\Button\Button.astro
  D:\Git\textor\temp-feature-test\src\components\Button\index.ts
  D:\Git\textor\temp-feature-test\src\components\Button\types\index.ts
  D:\Git\textor\temp-feature-test\src\components\Button\context\ButtonContext.tsx
  D:\Git\textor\temp-feature-test\src\components\Button\hooks\useButton.ts
  D:\Git\textor\temp-feature-test\src\components\Button\__tests__\Button.test.tsx
  D:\Git\textor\temp-feature-test\src\components\Button\config\index.ts
  D:\Git\textor\temp-feature-test\src\components\Button\constants\index.ts
  Sub-components: D:\Git\textor\temp-feature-test\src\components\Button\sub-components/
stdout | test/feature-improvements.test.js > Feature Improvements > create-component should create sub-components subfolder and remove-component should delete it
✓ Deleted component: D:\Git\textor\temp-feature-test\src\components\Button/
stdout | test/state.test.js > State Management > should support custom names for sections
✓ Section created successfully:
  Route: D:\Git\textor\temp-state-test\src\pages\products.astro
  Feature: D:\Git\textor\temp-state-test\src\features\shop\products\ShopProducts.astro
  Sub-components: D:\Git\textor\temp-state-test\src\features\shop\products\sub-components/
  Scripts: D:\Git\textor\temp-state-test\src\features\shop\products\scripts\index.ts
stdout | test/state.test.js > State Management > should support custom names for sections
✓ Deleted:
  D:\Git\textor\temp-state-test\src\pages\products.astro
  D:\Git\textor\temp-state-test\src\features\shop\products/
 ✓ test/improvements.test.js (4) 770ms
 ✓ test/config.test.js (10)
 ✓ test/naming.test.js (9)
 ✓ test/security.test.js (2)
 ✓ test/alias.test.js (5)
 ✓ test/state.test.js (4)
 ✓ test/feature-improvements.test.js (5)
 Test Files  7 passed (7)
      Tests  39 passed (39)
   Start at  18:19:49
   Duration  1.06s (transform 110ms, setup 1ms, collect 358ms, tests 1.02s, environment 1ms, prepare 731ms)
 PASS  Waiting for file changes...
       press h to show help, press q to quit