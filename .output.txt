
 RUN  v1.6.1 D:/Git/textor
stdout | test/sync.test.js > Sync Command > should add files with signature that are not in state
✓ Textor configuration created at: D:\Git\textor\temp-sync-test\.textor\config.json
Default configuration:
{
  "paths": {
    "pages": "src/pages",
    "features": "src/features",
    "components": "src/components",
    "layouts": "src/layouts"
  },
  "routing": {
    "mode": "flat",
    "indexFile": "index.astro"
  },
  "importAliases": {},
  "naming": {
    "routeExtension": ".astro",
    "featureExtension": ".astro",
    "componentExtension": ".tsx",
    "hookExtension": ".ts",
    "testExtension": ".test.tsx"
  },
  "signatures": {
    "astro": "<!-- @generated by Textor -->",
    "typescript": "// @generated by Textor",
    "javascript": "// @generated by Textor",
    "tsx": "// @generated by Textor"
  },
  "features": {
    "framework": "astro",
    "entry": "pascal",
    "createSubComponentsDir": true,
    "createScriptsDir": true,
    "scriptsIndexFile": "scripts/index.ts",
    "createApi": false,
    "createServices": false,
    "createSchemas": false,
    "createHooks": false,
    "createContext": false,
    "createTests": false,
    "createTypes": false,
    "createReadme": false,
    "createStories": false,
    "createIndex": false
  },
  "components": {
    "framework": "react",
    "createSubComponentsDir": true,
    "createContext": true,
    "createHook": true,
    "createTests": true,
    "createConfig": true,
    "createConstants": true,
    "createTypes": true,
    "createApi": false,
    "createServices": false,
    "createSchemas": false,
    "createReadme": false,
    "createStories": false
  },
  "formatting": {
    "tool": "none"
  },
  "hashing": {
    "normalization": "normalizeEOL",
    "useMarkers": false
  },
  "git": {
    "requireCleanRepo": false,
    "stageChanges": false
  },
  "kindRules": [],
  "presets": {
    "minimal": {
      "features": {
        "createSubComponentsDir": false,
        "createScriptsDir": false
      },
      "components": {
        "createSubComponentsDir": false,
        "createContext": false,
        "createHook": false,
        "createTests": false,
        "createConfig": false,
        "createConstants": false,
        "createTypes": false
      }
    },
    "standard": {
      "features": {
        "createSubComponentsDir": true,
        "createScriptsDir": true
      },
      "components": {
        "createSubComponentsDir": true,
        "createContext": true,
        "createHook": true,
        "createTests": true,
        "createConfig": true,
        "createConstants": true,
        "createTypes": true
      }
    },
    "senior": {
      "features": {
        "createSubComponentsDir": true,
        "createScriptsDir": true,
        "createApi": true,
        "createServices": true,
        "createSchemas": true,
        "createHooks": true,
        "createContext": true,
        "createTests": true,
        "createTypes": true,
        "createReadme": true,
        "createStories": true,
        "createIndex": true
      },
      "components": {
        "createSubComponentsDir": true,
        "createContext": true,
        "createHook": true,
        "createTests": true,
        "createConfig": true,
        "createConstants": true,
        "createTypes": true,
        "createApi": true,
        "createServices": true,
        "createSchemas": true,
        "createReadme": true,
        "createStories": true
      }
    }
  },
  "defaultPreset": "standard"
}
You can now use Textor commands like:
  textor add-section /users users/catalog --layout Main
stdout | test/sync.test.js > Sync Command > should add files with signature that are not in state
  Warning: Managed directory not found: src/pages
  Warning: Managed directory not found: src/features
stdout | test/sync.test.js > Sync Command > should add files with signature that are not in state
Sync Analysis:
  Untouched files: 0
  New files to track: 1
    + src/components/Manual.astro
stdout | test/sync.test.js > Sync Command > should add files with signature that are not in state
✓ State synchronized successfully (1 added, 0 updated, 0 removed).
stdout | test/sync.test.js > Sync Command > should update hashes for modified files with signature
✓ Textor configuration created at: D:\Git\textor\temp-sync-test\.textor\config.json
Default configuration:
{
  "paths": {
    "pages": "src/pages",
    "features": "src/features",
    "components": "src/components",
    "layouts": "src/layouts"
  },
  "routing": {
    "mode": "flat",
    "indexFile": "index.astro"
  },
  "importAliases": {},
  "naming": {
    "routeExtension": ".astro",
    "featureExtension": ".astro",
    "componentExtension": ".tsx",
    "hookExtension": ".ts",
    "testExtension": ".test.tsx"
  },
  "signatures": {
    "astro": "<!-- @generated by Textor -->",
    "typescript": "// @generated by Textor",
    "javascript": "// @generated by Textor",
    "tsx": "// @generated by Textor"
  },
  "features": {
    "framework": "astro",
    "entry": "pascal",
    "createSubComponentsDir": true,
    "createScriptsDir": true,
    "scriptsIndexFile": "scripts/index.ts",
    "createApi": false,
    "createServices": false,
    "createSchemas": false,
    "createHooks": false,
    "createContext": false,
    "createTests": false,
    "createTypes": false,
    "createReadme": false,
    "createStories": false,
    "createIndex": false
  },
  "components": {
    "framework": "react",
    "createSubComponentsDir": true,
    "createContext": true,
    "createHook": true,
    "createTests": true,
    "createConfig": true,
    "createConstants": true,
    "createTypes": true,
    "createApi": false,
    "createServices": false,
    "createSchemas": false,
    "createReadme": false,
    "createStories": false
  },
  "formatting": {
    "tool": "none"
  },
  "hashing": {
    "normalization": "normalizeEOL",
    "useMarkers": false
  },
  "git": {
    "requireCleanRepo": false,
    "stageChanges": false
  },
  "kindRules": [],
  "presets": {
    "minimal": {
      "features": {
        "createSubComponentsDir": false,
        "createScriptsDir": false
      },
      "components": {
        "createSubComponentsDir": false,
        "createContext": false,
        "createHook": false,
        "createTests": false,
        "createConfig": false,
        "createConstants": false,
        "createTypes": false
      }
    },
    "standard": {
      "features": {
        "createSubComponentsDir": true,
        "createScriptsDir": true
      },
      "components": {
        "createSubComponentsDir": true,
        "createContext": true,
        "createHook": true,
        "createTests": true,
        "createConfig": true,
        "createConstants": true,
        "createTypes": true
      }
    },
    "senior": {
      "features": {
        "createSubComponentsDir": true,
        "createScriptsDir": true,
        "createApi": true,
        "createServices": true,
        "createSchemas": true,
        "createHooks": true,
        "createContext": true,
        "createTests": true,
        "createTypes": true,
        "createReadme": true,
        "createStories": true,
        "createIndex": true
      },
      "components": {
        "createSubComponentsDir": true,
        "createContext": true,
        "createHook": true,
        "createTests": true,
        "createConfig": true,
        "createConstants": true,
        "createTypes": true,
        "createApi": true,
        "createServices": true,
        "createSchemas": true,
        "createReadme": true,
        "createStories": true
      }
    }
  },
  "defaultPreset": "standard"
}
You can now use Textor commands like:
  textor add-section /users users/catalog --layout Main
stdout | test/sync.test.js > Sync Command > should update hashes for modified files with signature
✓ Section created successfully:
  Route: D:\Git\textor\temp-sync-test\src\pages\test.astro
  Feature: D:\Git\textor\temp-sync-test\src\features\test-feat\TestFeat.astro
  Sub-components: D:\Git\textor\temp-sync-test\src\features\test-feat\sub-components/
  Scripts: D:\Git\textor\temp-sync-test\src\features\test-feat\scripts\index.ts
stdout | test/sync.test.js > Sync Command > should update hashes for modified files with signature
  Warning: Managed directory not found: src/components
Sync Analysis:
  Untouched files: 2
  Modified files to update: 1
    ~ src/pages/test.astro
stdout | test/sync.test.js > Sync Command > should update hashes for modified files with signature
✓ State synchronized successfully (0 added, 1 updated, 0 removed).
stdout | test/sync.test.js > Sync Command > should remove missing files from state
✓ Textor configuration created at: D:\Git\textor\temp-sync-test\.textor\config.json
Default configuration:
{
  "paths": {
    "pages": "src/pages",
    "features": "src/features",
    "components": "src/components",
    "layouts": "src/layouts"
  },
  "routing": {
    "mode": "flat",
    "indexFile": "index.astro"
  },
  "importAliases": {},
  "naming": {
    "routeExtension": ".astro",
    "featureExtension": ".astro",
    "componentExtension": ".tsx",
    "hookExtension": ".ts",
    "testExtension": ".test.tsx"
  },
  "signatures": {
    "astro": "<!-- @generated by Textor -->",
    "typescript": "// @generated by Textor",
    "javascript": "// @generated by Textor",
    "tsx": "// @generated by Textor"
  },
  "features": {
    "framework": "astro",
    "entry": "pascal",
    "createSubComponentsDir": true,
    "createScriptsDir": true,
    "scriptsIndexFile": "scripts/index.ts",
    "createApi": false,
    "createServices": false,
    "createSchemas": false,
    "createHooks": false,
    "createContext": false,
    "createTests": false,
    "createTypes": false,
    "createReadme": false,
    "createStories": false,
    "createIndex": false
  },
  "components": {
    "framework": "react",
    "createSubComponentsDir": true,
    "createContext": true,
    "createHook": true,
    "createTests": true,
    "createConfig": true,
    "createConstants": true,
    "createTypes": true,
    "createApi": false,
    "createServices": false,
    "createSchemas": false,
    "createReadme": false,
    "createStories": false
  },
  "formatting": {
    "tool": "none"
  },
  "hashing": {
    "normalization": "normalizeEOL",
    "useMarkers": false
  },
  "git": {
    "requireCleanRepo": false,
    "stageChanges": false
  },
  "kindRules": [],
  "presets": {
    "minimal": {
      "features": {
        "createSubComponentsDir": false,
        "createScriptsDir": false
      },
      "components": {
        "createSubComponentsDir": false,
        "createContext": false,
        "createHook": false,
        "createTests": false,
        "createConfig": false,
        "createConstants": false,
        "createTypes": false
      }
    },
    "standard": {
      "features": {
        "createSubComponentsDir": true,
        "createScriptsDir": true
      },
      "components": {
        "createSubComponentsDir": true,
        "createContext": true,
        "createHook": true,
        "createTests": true,
        "createConfig": true,
        "createConstants": true,
        "createTypes": true
      }
    },
    "senior": {
      "features": {
        "createSubComponentsDir": true,
        "createScriptsDir": true,
        "createApi": true,
        "createServices": true,
        "createSchemas": true,
        "createHooks": true,
        "createContext": true,
        "createTests": true,
        "createTypes": true,
        "createReadme": true,
        "createStories": true,
        "createIndex": true
      },
      "components": {
        "createSubComponentsDir": true,
        "createContext": true,
        "createHook": true,
        "createTests": true,
        "createConfig": true,
        "createConstants": true,
        "createTypes": true,
        "createApi": true,
        "createServices": true,
        "createSchemas": true,
        "createReadme": true,
        "createStories": true
      }
    }
  },
  "defaultPreset": "standard"
}
You can now use Textor commands like:
  textor add-section /users users/catalog --layout Main
stdout | test/sync.test.js > Sync Command > should remove missing files from state
✓ Section created successfully:
  Route: D:\Git\textor\temp-sync-test\src\pages\test.astro
  Feature: D:\Git\textor\temp-sync-test\src\features\test-feat\TestFeat.astro
  Sub-components: D:\Git\textor\temp-sync-test\src\features\test-feat\sub-components/
  Scripts: D:\Git\textor\temp-sync-test\src\features\test-feat\scripts\index.ts
stdout | test/sync.test.js > Sync Command > should remove missing files from state
  Warning: Managed directory not found: src/components
stdout | test/sync.test.js > Sync Command > should remove missing files from state
Sync Analysis:
  Untouched files: 2
  Missing files to remove from state: 1
    - src/pages/test.astro
stdout | test/sync.test.js > Sync Command > should remove missing files from state
✓ State synchronized successfully (0 added, 0 updated, 1 removed).
stdout | test/sync.test.js > Sync Command > should not include files without signature unless --include-all is used
✓ Textor configuration created at: D:\Git\textor\temp-sync-test\.textor\config.json
Default configuration:
{
  "paths": {
    "pages": "src/pages",
    "features": "src/features",
    "components": "src/components",
    "layouts": "src/layouts"
  },
  "routing": {
    "mode": "flat",
    "indexFile": "index.astro"
  },
  "importAliases": {},
  "naming": {
    "routeExtension": ".astro",
    "featureExtension": ".astro",
    "componentExtension": ".tsx",
    "hookExtension": ".ts",
    "testExtension": ".test.tsx"
  },
  "signatures": {
    "astro": "<!-- @generated by Textor -->",
    "typescript": "// @generated by Textor",
    "javascript": "// @generated by Textor",
    "tsx": "// @generated by Textor"
  },
  "features": {
    "framework": "astro",
    "entry": "pascal",
    "createSubComponentsDir": true,
    "createScriptsDir": true,
    "scriptsIndexFile": "scripts/index.ts",
    "createApi": false,
    "createServices": false,
    "createSchemas": false,
    "createHooks": false,
    "createContext": false,
    "createTests": false,
    "createTypes": false,
    "createReadme": false,
    "createStories": false,
    "createIndex": false
  },
  "components": {
    "framework": "react",
    "createSubComponentsDir": true,
    "createContext": true,
    "createHook": true,
    "createTests": true,
    "createConfig": true,
    "createConstants": true,
    "createTypes": true,
    "createApi": false,
    "createServices": false,
    "createSchemas": false,
    "createReadme": false,
    "createStories": false
  },
  "formatting": {
    "tool": "none"
  },
  "hashing": {
    "normalization": "normalizeEOL",
    "useMarkers": false
  },
  "git": {
    "requireCleanRepo": false,
    "stageChanges": false
  },
  "kindRules": [],
  "presets": {
    "minimal": {
      "features": {
        "createSubComponentsDir": false,
        "createScriptsDir": false
      },
      "components": {
        "createSubComponentsDir": false,
        "createContext": false,
        "createHook": false,
        "createTests": false,
        "createConfig": false,
        "createConstants": false,
        "createTypes": false
      }
    },
    "standard": {
      "features": {
        "createSubComponentsDir": true,
        "createScriptsDir": true
      },
      "components": {
        "createSubComponentsDir": true,
        "createContext": true,
        "createHook": true,
        "createTests": true,
        "createConfig": true,
        "createConstants": true,
        "createTypes": true
      }
    },
    "senior": {
      "features": {
        "createSubComponentsDir": true,
        "createScriptsDir": true,
        "createApi": true,
        "createServices": true,
        "createSchemas": true,
        "createHooks": true,
        "createContext": true,
        "createTests": true,
        "createTypes": true,
        "createReadme": true,
        "createStories": true,
        "createIndex": true
      },
      "components": {
        "createSubComponentsDir": true,
        "createContext": true,
        "createHook": true,
        "createTests": true,
        "createConfig": true,
        "createConstants": true,
        "createTypes": true,
        "createApi": true,
        "createServices": true,
        "createSchemas": true,
        "createReadme": true,
        "createStories": true
      }
    }
  },
  "defaultPreset": "standard"
}
You can now use Textor commands like:
  textor add-section /users users/catalog --layout Main
stdout | test/sync.test.js > Sync Command > should not include files without signature unless --include-all is used
  Warning: Managed directory not found: src/pages
  Warning: Managed directory not found: src/features
Sync Analysis:
  Untouched files: 0
  Ignored non-generated files: 1 (use --include-all to track them)
✓ Everything is already in sync.
stdout | test/sync.test.js > Sync Command > should not include files without signature unless --include-all is used
  Warning: Managed directory not found: src/pages
  Warning: Managed directory not found: src/features
Sync Analysis:
  Untouched files: 0
  New files to track: 1
    + src/components/Handwritten.astro
stdout | test/sync.test.js > Sync Command > should not include files without signature unless --include-all is used
✓ State synchronized successfully (1 added, 0 updated, 0 removed).
stdout | test/sync.test.js > Sync Command > should not update modified files without signature unless --force is used
✓ Textor configuration created at: D:\Git\textor\temp-sync-test\.textor\config.json
Default configuration:
{
  "paths": {
    "pages": "src/pages",
    "features": "src/features",
    "components": "src/components",
    "layouts": "src/layouts"
  },
  "routing": {
    "mode": "flat",
    "indexFile": "index.astro"
  },
  "importAliases": {},
  "naming": {
    "routeExtension": ".astro",
    "featureExtension": ".astro",
    "componentExtension": ".tsx",
    "hookExtension": ".ts",
    "testExtension": ".test.tsx"
  },
  "signatures": {
    "astro": "<!-- @generated by Textor -->",
    "typescript": "// @generated by Textor",
    "javascript": "// @generated by Textor",
    "tsx": "// @generated by Textor"
  },
  "features": {
    "framework": "astro",
    "entry": "pascal",
    "createSubComponentsDir": true,
    "createScriptsDir": true,
    "scriptsIndexFile": "scripts/index.ts",
    "createApi": false,
    "createServices": false,
    "createSchemas": false,
    "createHooks": false,
    "createContext": false,
    "createTests": false,
    "createTypes": false,
    "createReadme": false,
    "createStories": false,
    "createIndex": false
  },
  "components": {
    "framework": "react",
    "createSubComponentsDir": true,
    "createContext": true,
    "createHook": true,
    "createTests": true,
    "createConfig": true,
    "createConstants": true,
    "createTypes": true,
    "createApi": false,
    "createServices": false,
    "createSchemas": false,
    "createReadme": false,
    "createStories": false
  },
  "formatting": {
    "tool": "none"
  },
  "hashing": {
    "normalization": "normalizeEOL",
    "useMarkers": false
  },
  "git": {
    "requireCleanRepo": false,
    "stageChanges": false
  },
  "kindRules": [],
  "presets": {
    "minimal": {
      "features": {
        "createSubComponentsDir": false,
        "createScriptsDir": false
      },
      "components": {
        "createSubComponentsDir": false,
        "createContext": false,
        "createHook": false,
        "createTests": false,
        "createConfig": false,
        "createConstants": false,
        "createTypes": false
      }
    },
    "standard": {
      "features": {
        "createSubComponentsDir": true,
        "createScriptsDir": true
      },
      "components": {
        "createSubComponentsDir": true,
        "createContext": true,
        "createHook": true,
        "createTests": true,
        "createConfig": true,
        "createConstants": true,
        "createTypes": true
      }
    },
    "senior": {
      "features": {
        "createSubComponentsDir": true,
        "createScriptsDir": true,
        "createApi": true,
        "createServices": true,
        "createSchemas": true,
        "createHooks": true,
        "createContext": true,
        "createTests": true,
        "createTypes": true,
        "createReadme": true,
        "createStories": true,
        "createIndex": true
      },
      "components": {
        "createSubComponentsDir": true,
        "createContext": true,
        "createHook": true,
        "createTests": true,
        "createConfig": true,
        "createConstants": true,
        "createTypes": true,
        "createApi": true,
        "createServices": true,
        "createSchemas": true,
        "createReadme": true,
        "createStories": true
      }
    }
  },
  "defaultPreset": "standard"
}
You can now use Textor commands like:
  textor add-section /users users/catalog --layout Main
stdout | test/sync.test.js > Sync Command > should not update modified files without signature unless --force is used
  Warning: Managed directory not found: src/pages
  Warning: Managed directory not found: src/features
Sync Analysis:
  Untouched files: 0
  New files to track: 1
    + src/components/Legacy.astro
stdout | test/sync.test.js > Sync Command > should not update modified files without signature unless --force is used
✓ State synchronized successfully (1 added, 0 updated, 0 removed).
stdout | test/sync.test.js > Sync Command > should not update modified files without signature unless --force is used
  Warning: Managed directory not found: src/pages
  Warning: Managed directory not found: src/features
stdout | test/sync.test.js > Sync Command > should not update modified files without signature unless --force is used
Sync Analysis:
  Untouched files: 0
✓ Everything is already in sync.
  Warning: Managed directory not found: src/pages
  Warning: Managed directory not found: src/features
stdout | test/sync.test.js > Sync Command > should not update modified files without signature unless --force is used
Sync Analysis:
  Untouched files: 0
  Modified files to update: 1
    ~ src/components/Legacy.astro
stdout | test/sync.test.js > Sync Command > should not update modified files without signature unless --force is used
✓ State synchronized successfully (0 added, 1 updated, 0 removed).
 ✓ test/sync.test.js (5)
   ✓ Sync Command (5)
     ✓ should add files with signature that are not in state
     ✓ should update hashes for modified files with signature
     ✓ should remove missing files from state
     ✓ should not include files without signature unless --include-all is used
     ✓ should not update modified files without signature unless --force is used
 Test Files  1 passed (1)
      Tests  5 passed (5)
   Start at  10:48:10
   Duration  448ms (transform 33ms, setup 0ms, collect 52ms, tests 101ms, environment 0ms, prepare 81ms)